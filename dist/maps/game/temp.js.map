{"version":3,"sources":["game/temp.coffee"],"names":[],"mappings":"AA0C0B;AAAA;AAAA","file":"game/temp.js","sourceRoot":"/source/","sourcesContent":["# delay = (time, func)->\r\n#   setTimeout ->\r\n#     func()\r\n#   , time\r\n\r\n# class Chat\r\n#   constructor: (@game)->\r\n#     @$avatar = jQuery('.panel.tips .avatar')\r\n#     @$dialog = jQuery('.panel.tips .dialog')\r\n#     @$dbox = @$dialog.find('.dbox')\r\n\r\n#     @$ctc = jQuery('.panel.tips .click-to-continue')\r\n\r\n#     @bind_events()\r\n\r\n#   # 显示一个对话脚本\r\n#   # 传入的 script 必须是对话脚本\r\n#   show: (script)->\r\n#     # 显示头像\r\n#     # 如果头像相同就不进行动画切换\r\n#     npc = @game.get_npc script.npc\r\n#     if @$avatar.data('npc') != script.npc\r\n#       $img = jQuery '<img>'\r\n#         .appendTo @$avatar.html('').data('npc', script.npc)\r\n#         .attr 'src', npc.avatar\r\n#         .hide().fadeIn 400\r\n    \r\n#     # 显示对话框\r\n#     @$dbox.html ''\r\n\r\n#     # 添加NPC名字\r\n#     jQuery '<div>'\r\n#       .addClass 'npc-name'\r\n#       .html npc.name + ' :'\r\n#       .prependTo @$dbox\r\n\r\n#     @$dbox.hide().fadeIn 400, =>\r\n#       @show_content script.content, 0\r\n\r\n#   # 显示一段对话中的一句话\r\n#   show_content: (content, idx)->\r\n#     @$ctc.hide()\r\n#     if idx < content.length\r\n#       $span = jQuery '<span>'\r\n#         .appendTo @$dbox\r\n\r\n#       str = content[idx]\r\n\r\n#       if str == ':shake'\r\n#         # 头像摇晃\r\n#         @$avatar.find('img').addClass('shake')\r\n#         @show_content content, idx + 1\r\n#         return\r\n\r\n#       if str.indexOf(':animation') is 0\r\n#         ani_name = str.split(':animation:')[1]\r\n#         jQuery(document).trigger \"animation.#{ani_name}\", =>\r\n#           @show_content content, idx + 1\r\n#         return\r\n\r\n#       @show_str $span, str, 0, =>\r\n#         setTimeout =>\r\n#           @$ctc.show()\r\n#           @_continue =\r\n#             content: content\r\n#             idx: idx + 1\r\n#         , 300\r\n\r\n#     else\r\n#       # 显示下一段对话\r\n#       jQuery(document).trigger 'game.next_script'\r\n\r\n#   # 动态地（一个一个字地）显示一句话\r\n#   # 显示结束后，显示“点击继续”的提示\r\n#   show_str: ($span, str, idx, func)->\r\n#     if idx < str.length\r\n#       # $span.append jQuery('<span>').html(str[idx]).hide().fadeIn(40)\r\n#       $span.append str[idx]\r\n#       setTimeout =>\r\n#         @show_str $span, str, idx + 1, func\r\n#       , 10\r\n\r\n#     else\r\n#       $span.append jQuery('<br/>')\r\n#       func()\r\n\r\n#   bind_events: ->\r\n#     # 对话继续\r\n#     jQuery(document).on 'click', =>\r\n#       return if not @_continue\r\n#       @show_content @_continue.content, @_continue.idx\r\n#       @_continue = null\r\n\r\n#     jQuery(document).on 'game.chat-continue', =>\r\n#       return if not @_continue\r\n#       @show_content @_continue.content, @_continue.idx\r\n#       @_continue = null\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    # $css_textarea = jQuery('textarea.code.css').val @data.init.css\r\n    # $html_textarea = jQuery('textarea.code.html').val @data.init.html\r\n\r\n    # @cm_css = CodeMirror.fromTextArea $css_textarea[0], {\r\n    #   mode: 'css'\r\n    #   lineNumbers: true\r\n    #   theme: 'vibrant-ink'\r\n    #   lineWrapping: true\r\n    # }\r\n\r\n    # @cm_html = CodeMirror.fromTextArea $html_textarea[0], {\r\n    #   mode: 'htmlmixed'\r\n    #   lineNumbers: true\r\n    #   theme: 'vibrant-ink'\r\n    #   lineWrapping: true\r\n    # }"]}